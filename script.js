let exploreCategoriesData = [
    {
        src: "/Assets/explore Categories/peach.png",
        name: "peach",
        catagory: "fruit",
    },
    {
        src: "/Assets/explore Categories/2vegetables.png",
        name: "green",
        catagory: "vegtable",
    },
    {
        src: "/Assets/explore Categories/3strawberry.png",
        name: "strawberry",
        catagory: "fruit",
    },
    {
        src: "/Assets/explore Categories/4apple.png",
        name: "apple",
        catagory: "fruit",
    },
    {
        src: "/Assets/explore Categories/5orange.png",
        name: "orange",
        catagory: "fruit",
    },
    {
        src: "/Assets/explore Categories/6potayo.png",
        name: "potato",
        catagory: "vegtable",
    },
    {
        src: "/Assets/explore Categories/7carrot.png",
        name: "Carrat",
        catagory: "vegtable",
    },
    {
        src: "/Assets/explore Categories/chicken.webp",
        name: "chicken",
        catagory: "meat",
    },
    {
        src: "/Assets/explore Categories/mutton.png",
        name: "mutton",
        catagory: "meat",
    },
    {
        src: "/Assets/explore Categories/mutton-seekh-kebab.webp",
        name: "kebab",
        catagory: "meat",
    },
    {
        src: "/Assets/explore Categories/mango2-removebg-preview.png",
        name: "mango",
        catagory: "fruit",
    },
    {
        src: "/Assets/explore Categories/mahaltea.webp",
        name: "mahal tea",
        catagory: "Tea & coffee",
    },
    {
        src: "/Assets/explore Categories/3rosesdusttea.png",
        name: "3 rosesdust",
        catagory: "Tea & coffee",
    },
    {
        src: "/Assets/explore Categories/bruinstantcoffee.webp",
        name: "BUR Coffee",
        catagory: "Tea & coffee",
    },
]

let featuredProductsData = [
    {
        src: "/Assets/featured products/avocado.webp",
        name: "avocado 1kg",
        catagory: "fruit",
        currentRate: 140,
        mrp: 150
    },
    {
        src: "/Assets/featured products/potato.webp",
        name: "potato 1kg",
        catagory: "Vegetables",
        currentRate: 40,
        mrp: 55
    },
    {
        src: "/Assets/featured products/apple.webp",
        name: "apple 1kg",
        catagory: "fruit",
        currentRate: 150,
        mrp: 200
    },
    {
        src: "/Assets/featured products/ridge-gourd.webp",
        name: "Ridge Gourd 300g",
        catagory: "Vegetables",
        currentRate: 40,
        mrp: 55
    },
    {
        src: "/Assets/featured products/beetroot.webp",
        name: "beetroot 500g",
        catagory: "Vegetables",
        currentRate: 60,
        mrp: 75
    },
    {
        src: "/Assets/featured products/corianderleaves.webp",
        name: "corianderleaves",
        catagory: "Vegetables",
        currentRate: 10,
        mrp: 20
    },
    {
        src: "/Assets/featured products/ladiesfinger.webp",
        name: "ladiesfinger 100g",
        catagory: "Vegetables",
        currentRate: 39,
        mrp: 49
    },
    {
        src: "/Assets/featured products/jamun.webp",
        name: "jamun",
        catagory: "fruit",
        currentRate: 100,
        mrp: 130
    },
    {
        src: "/Assets/featured products/mushrooms.webp",
        name: "mushrooms 400g",
        catagory: "Vegetables",
        currentRate: 70,
        mrp: 100
    },
    {
        src: "/Assets/featured products/curry-leaves.webp",
        name: "Curry Leaves",
        catagory: "Vegetables",
        currentRate: 10,
        mrp: 15
    },
    {
        src: "/Assets/featured products/fresho-litchi.webp",
        name: "litchi 300g",
        catagory: "fruit",
        currentRate: 200,
        mrp: 240
    },
    {
        src: "/Assets/featured products/garlic.webp",
        name: "garlic 200g",
        catagory: "Vegetables",
        currentRate: 50,
        mrp: 60
    },
    {
        src: "/Assets/featured products/ginger.webp",
        name: "ginger 50g",
        catagory: "Vegetables",
        currentRate: 40,
        mrp: 50
    },
    {
        src: "/Assets/featured products/varikatri.webp",
        name: "varikatri 200g",
        catagory: "Vegetables",
        currentRate: 60,
        mrp: 50
    },
    {
        src: "/Assets/featured products/papaya.webp",
        name: "papaya 700g",
        catagory: "fruit",
        currentRate: 80,
        mrp: 100
    },
    {
        src: "/Assets/featured products/brinjal.webp",
        name: "brinjal 500g",
        catagory: "Vegetables",
        currentRate: 50,
        mrp: 60
    },
    {
        src: "/Assets/featured products/kiwi-green.webp",
        name: "kiwi 500g",
        catagory: "fruit",
        currentRate: 150,
        mrp: 180
    },
    {
        src: "/Assets/featured products/blueberry.webp",
        name: "blueberry 100g",
        catagory: "fruit",
        currentRate: 100,
        mrp: 130
    },
    {
        src: "/Assets/featured products/cabbage.webp",
        name: "blueberry 200g",
        catagory: "Vegetables",
        currentRate: 50,
        mrp: 55
    },
    {
        src: "/Assets/featured products/3-roses-natural-care-tea.webp",
        name: "3 roses 400g",
        catagory: "tea & coffee",
        currentRate: 250,
        mrp: 275
    },
    {
        src: "/Assets/featured products/tata-tea-kanan-devan-tea.webp",
        name: "Tata Tea 500g",
        catagory: "tea & coffee",
        currentRate: 230,
        mrp: 255
    },
    {
        src: "/Assets/featured products/taj-mahal-tea.webp",
        name: "taj-mahal 500g",
        catagory: "tea & coffee",
        currentRate: 350,
        mrp: 365
    },
    {
        src: "/Assets/featured products/3-roses-dust-tea.webp",
        name: "3 roses 500g",
        catagory: "tea & coffee",
        currentRate: 300,
        mrp: 305
    },
    {
        src: "/Assets/featured products/bru-instant-coffee.webp",
        name: "BRU Coffee 200g",
        catagory: "tea & coffee",
        currentRate: 150,
        mrp: 165
    },
    {
        src: "/Assets/featured products/tata-coffee-grand.webp",
        name: "Tata Coffee 200g",
        catagory: "tea & coffee",
        currentRate: 170,
        mrp: 195
    },
    {
        src: "/Assets/featured products/sunrise-instant-coffee-chicory-mix.webp",
        name: "sunrise Coffee 500g",
        catagory: "tea & coffee",
        currentRate: 370,
        mrp: 395
    },
    {
        src: "/Assets/featured products/nescafe-classic-100-pure-instant-coffee.webp",
        name: "nescafe Coffee 400g",
        catagory: "tea & coffee",
        currentRate: 300,
        mrp: 355
    },
    {
        src: "/Assets/featured products/chicken-malai-tikka-juicy-fresh.webp",
        name: "chicken 500g",
        catagory: "meat",
        currentRate: 300,
        mrp: 355
    },
    {
        src: "/Assets/featured products/chicken-malai-tikka-juicy-fresh.webp",
        name: "chicken 500g",
        catagory: "meat",
        currentRate: 170,
        mrp: 200
    },
    {
        src: "/Assets/featured products/tandoori-chicken-juicy.webp",
        name: "tandoori-chicken 500g",
        catagory: "meat",
        currentRate: 190,
        mrp: 200
    },
    {
        src: "/Assets/featured products/chicken-curry-cut-without-skin-antibiotic-residue-free.webp",
        name: "chicken-without-skin 500g",
        catagory: "meat",
        currentRate: 220,
        mrp: 240
    },
    {
        src: "/Assets/featured products/chicken-hotdog-smoked-sausage.webp",
        name: "chicken-hotdog 500g",
        catagory: "meat",
        currentRate: 200,
        mrp: 220
    },
    {
        src: "/Assets/featured products/mutton-boneless.webp",
        name: "mutton 500g",
        catagory: "meat",
        currentRate: 500,
        mrp: 550
    },
    {
        src: "/Assets/featured products/maggi-2-minute-noodles-masala.webp",
        name: "maggi ",
        catagory: "snacks",
        currentRate: 100,
        mrp: 120
    },
    {
        src: "/Assets/featured products/britannia-marie-gold-biscuits.webp",
        name: "marie-gold ",
        catagory: "snacks",
        currentRate: 50,
        mrp: 55
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/1212774-2_4-lays-potato-chips-indias-magic-masala.jpg",
        name: "Lays ",
        catagory: "snacks",
        currentRate: 18,
        mrp: 20
    },




]

let dailyBestSellsData = [
    {
        src: "https://www.bbassets.com/media/uploads/p/l/10000293_17-fresho-amla.jpg",
        name: "amla 100g",
        saler: "Mr.food",
        catagory: "fruit",
        currentRate: 130,
        mrp: 150,
        save: 10,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/40004992_16-fresho-sweet-corn.jpg",
        name: "Sweet Corn 300g",
        saler: "Mr.food",
        catagory: "fruit",
        currentRate: 100,
        mrp: 115,
        save: 15,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/40048445_4-fresho-pear-green-imported.jpg",
        name: "Pear Green 600g",
        saler: "Mr.food",
        catagory: "fruit",
        currentRate: 150,
        mrp: 208,
        save: 28,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/10000038_22-fresho-beans-broad.jpg",
        name: "beans 500g",
        saler: "Mr.food",
        catagory: "vegtables",
        currentRate: 66,
        mrp: 87,
        save: 24,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/10000092_17-fresho-coconut-large.jpg",
        name: "coconut 500g",
        saler: "Mr.food",
        catagory: "vegtables",
        currentRate: 54,
        mrp: 108,
        save: 48,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/10000370_20-fresho-guava.jpg",
        name: "guava 500g",
        saler: "Mr.food",
        catagory: "fruit",
        currentRate: 31,
        mrp: 42,
        save: 24,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/10000168_14-fresho-banana-raw-green.jpg",
        name: "Raw Green 500g",
        saler: "Mr.food",
        catagory: "vegtables",
        currentRate: 31,
        mrp: 42,
        save: 24,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/10000095_18-fresho-colocasia.jpg",
        name: "colocasia 250g",
        saler: "Mr.food",
        catagory: "vegtables",
        currentRate: 19,
        mrp: 26,
        save: 27,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/10000331_16-fresho-onion-sambhar.jpg",
        name: "Small Onion 1kg",
        saler: "Mr.food",
        catagory: "vegtables",
        currentRate: 96,
        mrp: 160,
        save: 40,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/50000531_8-fresho-mint-organically-grown.jpg",
        name: "Smmint",
        saler: "Mr.food",
        catagory: "vegtables",
        currentRate: 11,
        mrp: 14,
        save: 20,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/40009931-2_6-parle-hide-seek-chocolate.jpg",
        name: "Hide & Seek",
        saler: "parle",
        catagory: "snacks",
        currentRate: 48,
        mrp: 60,
        save: 22,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/280474_20-britannia-bourbon-chocolate-cream-biscuits.jpg",
        name: "bourbon",
        saler: "britannia",
        catagory: "snacks",
        currentRate: 60,
        mrp: 100,
        save: 40,
    },
]

// Created Explore Categories Productes

function createExploreCategories(exploreCategoriesData) {
    let cretedAllExploreCat = exploreCategoriesData.map((exploreCat) => {
        return ` <div class="ecProduted d-flex align-items-center p-3">
                 <div><img src= "${exploreCat.src}" alt="${exploreCat.name}"></div>
                 <h4 class="ecProdutedName">${exploreCat.name}</h4>
                </div>`
    }).join("")
    let exploreCategoriesProducteds = document.querySelector(".exploreCategoriesProducteds")
    exploreCategoriesProducteds.innerHTML = cretedAllExploreCat
    // console.log(cretedAllExploreCat);
}
createExploreCategories(exploreCategoriesData)

// filter Explore Catergories productes
let exploreCategoriescateres = document.querySelector(".exploreCategoriescateres")
let exploreCategoriescateresli = document.querySelectorAll(".exploreCategoriescateres li")

// exploreCategoriescateresli[0].style.color = "green"

function filterExploreCatergories(exploreCategoriesData) {
    let allCategorys = exploreCategoriesData.map((exploreCategories) => {
        return exploreCategories.catagory
    })
    let catagorys = ["All", ...new Set(allCategorys)]
    exploreCategoriescateres.innerHTML = catagorys.map((catagory) => `<li class="px-2 py-4">${catagory}</li>`).join("")

    let exploreCategoriescateresSpan = document.querySelectorAll(".exploreCategoriescateres li")
    exploreCategoriescateresSpan[0].classList.add("selectProducte")

    exploreCategoriescateres.addEventListener("click", (e) => {
        let clickcatagort = e.target.textContent.trim()
        clickcatagort === catagorys[0] ? createExploreCategories(exploreCategoriesData) : createExploreCategories(exploreCategoriesData.filter((exploreCategories) => exploreCategories.catagory === clickcatagort))

        // exploreCategoriescateresSpan = document.querySelectorAll(".exploreCategoriescateres li")

        exploreCategoriescateresSpan.forEach((span) => span.classList.remove("selectProducte"))
        e.target.classList.add("selectProducte")

    })
}
filterExploreCatergories(exploreCategoriesData)

// featuredProducts
function createFeaturedProducts(featuredProductsData) {
    let createsAllFeaturesPro = featuredProductsData.map((featuredProduct) => {
        return ` <div class="featuredProduct p-2">
                        <div>
                            <img class="fdImg" src="${featuredProduct.src}" alt="">
                            <div class="like p-1">
                                <i class="fa-regular fa-heart"></i>
                            </div>
                        </div>

                        <div>
                            <p class="fdCatagory">${featuredProduct.catagory}</p>
                            <h6 class="fdName">${featuredProduct.name}</h6>
                            <img src="/Assets/featured products/rating.png" alt="">

                            <p>By Mr.food</p>
                            <div class="d-flex justify-content-between">
                                <div class="d-flex align-items-center gap-2">
                                    <h5 class = "fdRate" data-price ="${featuredProduct.currentRate}" >₹${featuredProduct.currentRate}</h5>
                                    <p class="FPdicount m-0">₹${featuredProduct.mrp}</p>
                                </div>
                                <div class="addToCartFP">
                                    <button class="addToCartFP"><img class="addToCartFP" src="/Assets/featured products/shopping-cart.png" alt="">Add</button>
                                </div>
                            </div>
                        </div>
                    </div>`
    }).join("")
    let allfeaturedProducts = document.querySelector(".allfeaturedProducts")
    allfeaturedProducts.innerHTML = createsAllFeaturesPro
    // console.log(createsAllFeaturesPro);

}
createFeaturedProducts(featuredProductsData)

function filterFeaturedProducts(featuredProductsData) {
    let allCatergoriesFeaturesPro = featuredProductsData.map((featuredProduct) => featuredProduct.catagory)
    let catagoryFeaturedProduct = ["All", ...new Set(allCatergoriesFeaturesPro)]
    let allCategoriesfeaturedProducts = document.querySelector(".allCategoriesfeaturedProducts")
    allCategoriesfeaturedProducts.innerHTML = catagoryFeaturedProduct.map((catagory) => {
        return ` <li class="px-2 py-4" >${catagory}</li>`
    }).join("")

    // add defalt green color 
    let allCategoriesfeaturedProductsli = document.querySelectorAll(".allCategoriesfeaturedProducts li")
    allCategoriesfeaturedProductsli[0].classList.add("selectProducte")

    // filter thr product if there click
    allCategoriesfeaturedProducts.addEventListener("click", (e) => {
        let selectCatergories = e.target.textContent.trim()
        selectCatergories === "All" ? createFeaturedProducts(featuredProductsData) : createFeaturedProducts(featuredProductsData.filter((product) => product.catagory === selectCatergories))

        allCategoriesfeaturedProductsli.forEach((li) => {
            li.classList.remove("selectProducte")
        })
        e.target.classList.add("selectProducte")
    })
}
filterFeaturedProducts(featuredProductsData)

// link
let wishC = document.querySelector(".wishC")
let wishListContainer = document.querySelector(".wishListContainer")
let wishCount = document.querySelector(".wishCount")

let wishArr = []
// let wishCountStart = wishArr.length
wishCount.innerHTML = wishArr.length


//wishListContainer open & close
wishC.addEventListener("click", () => {
    if (wishListContainer.style.display === "none") {
        wishListContainer.style.display = "block"
        addToCartContainer.classList.remove("displayBlock")
    }
    else {
        wishListContainer.style.display = "none"
    }
})



wishListContainer.addEventListener("click", (e) => {
    if (e.target.classList.contains("removeWish")) {

        let removeDiv = e.target.parentElement.parentElement
        let removeName = removeDiv.querySelector("h3").textContent

        let localStorageAddToCartArr = JSON.parse(localStorage.getItem("like")) || []

        localStorageAddToCartArr = localStorageAddToCartArr.filter((localStorageAddToCartArr) => localStorageAddToCartArr.name != removeName)
        wishArr = localStorageAddToCartArr

        localStorage.setItem("like", JSON.stringify(localStorageAddToCartArr))

        let wishListlength = JSON.parse(localStorage.getItem("like")).length

        let wishCount = document.querySelector(".wishCount")
        wishCount.innerHTML = ""
        wishCount.innerHTML = wishListlength

        DBSproductArray = localStorageAddToCartArr;
        removeDiv.remove()
    }

})



let exploreCategoriesPro = document.querySelector("#exploreCategoriesPro")
exploreCategoriesPro.addEventListener("click", (e) => {
    // console.log(exploreCategoriesPro);
    if (e.target.classList.contains("fa-heart")) {
        let fdProduct = e.target.parentElement.parentElement.parentElement
        let nameEle = fdProduct.querySelector(".fdName")
        let rateEle = fdProduct.querySelector(".fdRate")
        let imgEle = fdProduct.querySelector(".fdImg")
        let catagoryEle = fdProduct.querySelector(".fdCatagory")
        let like = fdProduct.querySelector(".like i")
        // console.log(fdProduct);


        let fpName = nameEle.textContent
        let fpRate = rateEle.textContent
        let fpImg = imgEle.src
        let fpCatagory = catagoryEle.textContent

        let alreadyExists = wishArr.find(item => item.name === fpName)
        // console.log(alreadyExists);
        if (!alreadyExists) {
            like.className = "fa-solid fa-heart";
            like.style.color = "#ff0000"

            let wishObj = {
                name: fpName,
                rate: fpRate,
                src: fpImg,
                catagory: fpCatagory,
            }

            wishArr.push(wishObj)
            localStorage.setItem("like", JSON.stringify(wishArr))


            // let wishListLenth = localStorage.setItem("like", JSON.stringify(wishArr)).length
            let wishListLenth = JSON.parse(localStorage.getItem("like")).length
            // console.log(wishListLenth);

            // console.log(wishArr);
            wishCount.innerHTML = ""
            wishCount.innerHTML = parseInt(wishListLenth)

            let wishList = document.createElement("div")
            wishList.className = "wishList d-flex align-items-center justify-content-between"
            wishList.innerHTML = `<div><img src="${wishObj.src}" alt=""></div>
                            <div>
                                <h3>${wishObj.name}</h3>
                                <div class="d-flex align-items-center justify-content-between">
                                    <p>${wishObj.catagory}</p>
                                    <p>${wishObj.rate}</p>
                                </div>
                                <i class="removeWish fa-solid fa-trash " style="color: #ff0000;"></i>
                            </div>`
            let wishListContainer = document.querySelector(".wishListContainer")
            wishListContainer.appendChild(wishList)

            // console.log(wishArr.length);



        }
        else {
            alert("Item already in wishlist");
            // like.className = "fa-regular fa-heart"
            // like.style.color = "black"

            // wishCountStart--
            // wishCount.innerHTML = wishCountStart
            //////////////

            // fdProduct = e.target.parentElement.parentElement.parentElement
            // nameEle = fdProduct.querySelector(".fdName")
            // fpName = nameEle.textContent
            // console.log(fpName);
            // 
            // let wishListName = document.querySelectorAll(".wishList h3")
            // 
            // 
            //    Array.from(wishListName).filter((Wname) => {
            // fpName!=Wname.textContent
            // })
        }
    }
})


// wish list set in local storeage
function localStorageWishList() {
    let wishList = JSON.parse(localStorage.getItem("like")) || []
    wishArr = wishList
    wishList.forEach((like) => {
        let wishList = document.createElement("div")
        wishList.className = "wishList d-flex align-items-center justify-content-between"
        wishList.innerHTML = `<div><img src="${like.src}" alt=""></div>
                            <div>
                                <h3>${like.name}</h3>
                                <div class="d-flex align-items-center justify-content-between">
                                    <p>${like.catagory}</p>
                                    <p>${like.rate}</p>
                                </div>
                                <i class="removeWish fa-solid fa-trash " style="color: #ff0000;"></i>
                            </div>`
        let wishListContainer = document.querySelector(".wishListContainer")
        wishListContainer.appendChild(wishList)

    })
    wishCount.innerHTML = wishList.length

    let featuredProduct = document.querySelectorAll(".featuredProduct .fdName")
    let featuredProductName = Array.from(featuredProduct).map((fpName) => fpName.textContent.trim())

    let wishName = wishList.map((wish) => wish.name)

    let matchWishs = featuredProductName.filter(fdName => wishName.includes(fdName))
    // console.log(matchWishs);

    // function autoLike() {

    //     let featuredProductdiv = document.querySelectorAll(".featuredProduct")
    //     featuredProductdiv.forEach((fp) => {
    //         let featuredProductName = fp.querySelector(".fdName").textContent;

    //         // Check if any matchWishs name is included in the featured product name
    //         let isMatch = matchWishs.some((wish) => featuredProductName.includes(wish));

    //         if (isMatch) {
    //             console.log(wish);
    //         } else {
    //             console.log("Not Match");
    //         }

    //     })
    // }
    // autoLike()

}








function createdDailySells(dailyBestSellsData) {
    let creatsAllDailyBestSells = dailyBestSellsData.map((dailyBestSells) => {
        return `<div class="DBSproduct">
                            
                <div><img class="dbsImg" src="${dailyBestSells.src}" alt=""></div>
                <span class="dbsCatagory">${dailyBestSells.catagory}</span>
                <div class="d-sm-flex align-items-center justify-content-between">
                    <h6 class="dbsName">${dailyBestSells.name}</h6>
                    <img src="/Assets/Daily Best Sells/rating.png" alt="">
                </div>
                <p class="m-0">By <span>${dailyBestSells.saler}</span></p>
                <div class="d-flex align-items-center gap-3">
                    <span class="DBSprice">₹${dailyBestSells.currentRate}</span>
                    <span class="DBSdiscount">₹${dailyBestSells.mrp}</span>
                </div>
                <button class="addToCart">
                    <img src="/Assets/Daily Best Sells/shopping-cart.png" alt="">
                    <span>Add to Cart</span>
                </button>
                <div class="DBSsave">
                    Save ${dailyBestSells.save}%
                </div>
                
            </div>`

    }).join("")
    let dailyBestSellsAllProduct = document.querySelector(".dailyBestSellsAllProduct")
    dailyBestSellsAllProduct.innerHTML = creatsAllDailyBestSells

}
createdDailySells(dailyBestSellsData)


// Add To Cart

let AddTocartMain = document.querySelector(".cart")
let addToCartContainer = document.querySelector(".addToCartContainer")

AddTocartMain.addEventListener("click", (e) => {
    if (e.target.classList.contains("fa-cart-shopping") || e.target.classList.contains("fs-6") || e.target.classList.contains("cartAmount")) {

        addToCartContainer.classList.toggle("displayBlock")
        if (addToCartContainer.classList.contains("displayBlock")) {

            let wishListContainer = document.querySelector(".wishListContainer")
            wishListContainer.style.display = "none"
        }

    }
})

let addContainerClose = document.querySelector(".addContainerClose")

addContainerClose.addEventListener("click", (e) => {
    // if (e.target.classList.contains("addContainerClose")) {
    addToCartContainer.classList.remove("displayBlock")
    addToCartContainer.classList.add("displayNone")

    // }
})

let DBSproductArray = []
// let addToCart = document.querySelectorAll(".addToCart")

function addToCartinContainer() {
    let dailyBestSellsAllProduct = document.querySelector(".dailyBestSellsAllProduct")
    dailyBestSellsAllProduct.addEventListener("click", (e) => {

        if (e.target.classList.contains("addToCart")) {
            let DBSproduct = e.target.parentElement
            let dbsProductImg = DBSproduct.querySelector(".dbsImg")
            // let dbsProductImg = dbsProductImgTag.src
            let dbsProductCatagory = DBSproduct.querySelector(".dbsCatagory")
            let dbsProductName = DBSproduct.querySelector(".dbsName")
            let dbsProductRate = DBSproduct.querySelector(".DBSprice")

            let DBSproductObj = {
                name: dbsProductName.innerHTML,
                rate: dbsProductRate.innerHTML,
                img: dbsProductImg.src,
                catagory: dbsProductCatagory.innerHTML,
                count: 1,
            }

            let allReady = DBSproductArray.some((item) => item.name === DBSproductObj.name)

            if (allReady) {
                alert("All Ready Have in Add to Cart")
            }
            else {
                DBSproductArray.push(DBSproductObj)
                // add to cart container creat element 
                let div = document.createElement("div")
                div.className = "addToCart d-flex gap-2 align-items-center"
                div.innerHTML = `
                <div> <img
                src="${DBSproductObj.img}"
                alt=""></div>
                <div>
                <h5 class="addName">${DBSproductObj.name}</h5>
                <span class="addCatergory">${DBSproductObj.catagory}</span>
                <div class="d-flex justify-content-between">
                <div class="d-flex gap-2 align-items-center">
                <input class="addCount" type="text" value="${DBSproductObj.count}" min="1" max="5">
                <div>
                <button class="incress">+</button>
                <button class="decress">-</button>
                </div>
                </div>
                <p class="addAmount" data-price ="${DBSproductObj.rate}">${DBSproductObj.rate}</p>
                </div>
                <i class="addRemove fa-solid fa-trash" style="color: #ff0000;"></i>
                </div>`
                addToCartContainer.append(div)

                // total amount
                let cartAmounts = document.querySelectorAll(".addToCartContainer .addAmount")
                let totalAmt = 0
                cartAmounts.forEach((cartAmt) => {
                    let amount = cartAmt.innerHTML.replace("₹", "")
                    totalAmt += parseInt(amount)
                })
                let cartAmount = document.querySelector(".cartAmount")
                cartAmount.innerHTML = `₹ ${totalAmt}`
            }

        }

        localStorage.setItem("addToCart", JSON.stringify(DBSproductArray))

        let addTocartCount = document.querySelector("#addTocartCount")
        let addTocartLength = JSON.parse(localStorage.getItem("addToCart")).length
        addTocartCount.innerHTML = Number(addTocartLength)

    })
    let allfeaturedProducts = document.querySelector(".allfeaturedProducts")
    allfeaturedProducts.addEventListener("click", (e) => {
        if (e.target.classList.contains("addToCartFP")) {
            let div = e.target.parentElement.parentElement.parentElement.parentElement

            let fpName = div.querySelector(".fdName")
            let fpRate = div.querySelector(".fdRate")
            let fpimg = div.querySelector(".fdImg")
            let fpCatagory = div.querySelector(".fdCatagory")

            let DBSproductObj = {
                name: fpName.innerHTML,
                rate: fpRate.innerHTML,
                img: fpimg.src,
                catagory: fpCatagory.innerHTML,
                count: 1,
            }

            console.log(DBSproductObj);
            let allReady = DBSproductArray.some((item) => item.name === DBSproductObj.name)

            if (allReady) {
                alert("All Ready Have in Add to Cart")
            }
            else {
                DBSproductArray.push(DBSproductObj)
                // add to cart container creat element 
                let div = document.createElement("div")
                div.className = "addToCart d-flex gap-2 align-items-center"
                div.innerHTML = `
                <div> <img
                src="${DBSproductObj.img}"
                alt=""></div>
                <div>
                <h5 class="addName">${DBSproductObj.name}</h5>
                <span class="addCatergory">${DBSproductObj.catagory}</span>
                <div class="d-flex justify-content-between">
                <div class="d-flex gap-2 align-items-center">
                <input class="addCount" type="number" value="${DBSproductObj.count}" min="1" max="5">
                <div>
                <button class="incress">+</button>
                <button class="decress">-</button>
                </div>
                </div>
                <p class="addAmount" data-price = "${DBSproductObj.rate}">${DBSproductObj.rate}</p>
                </div>
                <i class="addRemove fa-solid fa-trash" style="color: #ff0000;"></i>
                </div>`
                addToCartContainer.append(div)

                // total amount
                let cartAmounts = document.querySelectorAll(".addToCartContainer .addAmount")
                let totalAmt = 0
                cartAmounts.forEach((cartAmt) => {
                    let amount = cartAmt.innerHTML.replace("₹", "")
                    totalAmt += parseInt(amount)
                })
                let cartAmount = document.querySelector(".cartAmount")
                cartAmount.innerHTML = `₹ ${totalAmt}`
            }
            localStorage.setItem("addToCart", JSON.stringify(DBSproductArray))

            let addTocartCount = document.querySelector("#addTocartCount")
            let addTocartLength = JSON.parse(localStorage.getItem("addToCart")).length
            addTocartCount.innerHTML = Number(addTocartLength)

        }

    })



}
addToCartinContainer()


function localStorageAddToCart() {
    let localStorageAddToCartArr = JSON.parse(localStorage.getItem("addToCart")) || []
    DBSproductArray = localStorageAddToCartArr;
    console.log(DBSproductArray);

    localStorageAddToCartArr.forEach((addToCartArr) => {
        let addToCartTotal = addToCartArr.count * addToCartArr.rate.replace("₹", "")
        console.log(addToCartTotal);

        let div = document.createElement("div")
        div.className = "addToCart d-flex gap-2 align-items-center"
        div.innerHTML = `
                <div> <img
                src="${addToCartArr.img}"
                alt=""></div>
                <div>
                <h5 class="addName">${addToCartArr.name}</h5>
    <span class="addCatergory">${addToCartArr.catagory}</span>
    <div class="d-flex justify-content-between">
        <div class="d-flex gap-2 align-items-center">
        <input class="addCount" readonly type="text" value="${addToCartArr.count}" min="1" max="5">
        <div>
        <button class="incress">+</button>
        <button class="decress">-</button>
        </div>
        </div>
        <p class="addAmount" data-price="${addToCartArr.rate}">₹${addToCartTotal}</p>
        </div>
        <i class="addRemove fa-solid fa-trash" style="color: #ff0000;"></i>
        </div>`
        // console.log(div);


        addToCartContainer.append(div)

        let addTocartCount = document.querySelector("#addTocartCount")


        addTocartCount.textContent = localStorageAddToCartArr.length

        addToCartCount()



    })

    function addToCartCount() {
        let addTocartCount = document.querySelector("#addTocartCount")
        addTocartCount.textContent = localStorageAddToCartArr.length
    }

}

function totalAmount() {
    let cartAmounts = document.querySelectorAll(".addToCartContainer .addAmount")
    let totalAmt = 0
    cartAmounts.forEach((cartAmt) => {
        // console.log(cartAmt);
        let amount = cartAmt.innerHTML.replace("₹", "")
        totalAmt += parseInt(amount)
    })
    let cartAmount = document.querySelector(".cartAmount")
    cartAmount.innerHTML = `₹ ${totalAmt}`
}
// totalAmount()
window.onload = () => {
    localStorageAddToCart()
    totalAmount()

    localStorageWishList()
}
function addToCartChanges() {
    addToCartContainer.addEventListener("click", (e) => {
        if (e.target.classList.contains("addRemove")) {
            let addToCartdiv = e.target.parentElement.parentElement
            let removeCartName = addToCartdiv.querySelector(".addName").textContent

            let localStorageAddToCartArr = JSON.parse(localStorage.getItem("addToCart")) || []
            localStorageAddToCartArr.forEach((addToCart, index) => {
                if (addToCart.name === removeCartName) {
                    localStorageAddToCartArr.splice(index, 1)
                    localStorage.setItem("addToCart", JSON.stringify(localStorageAddToCartArr))
                    addToCartdiv.remove()
                    DBSproductArray = localStorageAddToCartArr;
                }
            })
            let addTocartLength = JSON.parse(localStorage.getItem("addToCart")).length
            addTocartCount.innerHTML = Number(addTocartLength)

            totalAmount()
        }
        else if (e.target.classList.contains("incress")) {
            let addToCartdiv = e.target.parentElement.parentElement.parentElement.parentElement

            //incresing 
            let Count = addToCartdiv.querySelector(".addCount")
            Count.value++
            if (Count.value >= 5) {
                Count.value = 5
            }
            // giting price
            let amountEle = addToCartdiv.querySelector(".addAmount")
            let amount = amountEle.getAttribute("data-price")
            // let amount = amountEle.innerHTML

            // couveting to numbers
            let amt = parseFloat(amount.replace("₹", "").trim())
            console.log(amt);

            let total = amt * Count.value
            addToCartdiv.querySelector(".addAmount").innerHTML = `₹ ${total}`

            totalAmount()

            // updata in local storeage
            let incressName = addToCartdiv.querySelector(".addName").innerHTML

            let addToCartArrinLocal = JSON.parse(localStorage.getItem("addToCart"))
            addToCartArrinLocal.forEach((addToCart, index) => {
                if (addToCart.name === incressName) {
                    console.log(addToCartArrinLocal[index].count = Count.value);
                    localStorage.setItem("addToCart", JSON.stringify(addToCartArrinLocal))
                }
            })


        }
        else if (e.target.classList.contains("decress")) {
            let addToCartdiv = e.target.parentElement.parentElement.parentElement.parentElement
            //incresing 
            let Count = addToCartdiv.querySelector(".addCount")
            Count.value--

            if (Count.value <= 0) {
                Count.value = 1
            }
            // giting price
            let amountEle = (addToCartdiv.querySelector(".addAmount"));
            let amount = amountEle.getAttribute("data-price")
            // couveting to numbers
            let amt = parseFloat(amount.replace("₹", "").trim())
            let total = amt * Count.value
            addToCartdiv.querySelector(".addAmount").innerHTML = `₹ ${total}`

            totalAmount()

            // updata in local storeage
            let incressName = addToCartdiv.querySelector(".addName").innerHTML
            let addToCartArrinLocal = JSON.parse(localStorage.getItem("addToCart"))
            addToCartArrinLocal.forEach((addToCart, index) => {
                if (addToCart.name === incressName) {
                    console.log(addToCartArrinLocal[index].count = Count.value);
                    localStorage.setItem("addToCart", JSON.stringify(addToCartArrinLocal))
                }
            })
        }

    })
}
addToCartChanges()

addToCartContainer.addEventListener("click", () => {
    totalAmount()
    // console.log("change");

})
// console.log("clear");

let topSellsData = [
    {
        src: "/Assets/featured products/papaya.webp",
        name: "papaya 700g",
        catagory: "fruit",
        currentRate: 80,
        mrp: 100
    },
    {
        src: "/Assets/featured products/kiwi-green.webp",
        name: "kiwi 500g",
        catagory: "fruit",
        currentRate: 150,
        mrp: 180
    },
    {
        src: "/Assets/featured products/3-roses-dust-tea.webp",
        name: "3 roses 500g",
        catagory: "tea & coffee",
        currentRate: 300,
        mrp: 305
    },
]

let topRatedData = [
    {
        src: "/Assets/featured products/blueberry.webp",
        name: "blueberry 100g",
        catagory: "fruit",
        currentRate: 100,
        mrp: 130
    }, {
        src: "/Assets/featured products/mutton-boneless.webp",
        name: "mutton 500g",
        catagory: "meat",
        currentRate: 500,
        mrp: 550
    },
    {
        src: "/Assets/featured products/maggi-2-minute-noodles-masala.webp",
        name: "maggi ",
        catagory: "snacks",
        currentRate: 100,
        mrp: 120
    },
]

let trendingItemsData = [
    {
        src: "https://www.bbassets.com/media/uploads/p/l/10000370_20-fresho-guava.jpg",
        name: "guava 500g",
        saler: "Mr.food",
        catagory: "fruit",
        currentRate: 31,
        mrp: 42,
        save: 24,
    },
    {
        src: "https://www.bbassets.com/media/uploads/p/l/40009931-2_6-parle-hide-seek-chocolate.jpg",
        name: "Hide & Seek",
        saler: "parle",
        catagory: "snacks",
        currentRate: 48,
        mrp: 60,
        save: 22,
    },
    {
        src: "/Assets/featured products/tandoori-chicken-juicy.webp",
        name: "tandoori-chicken 500g",
        catagory: "meat",
        currentRate: 190,
        mrp: 200
    },
]

let recentlyAddedData = [
    {
        src: "https://www.bbassets.com/media/uploads/p/l/1212774-2_4-lays-potato-chips-indias-magic-masala.jpg",
        name: "Lays ",
        catagory: "snacks",
        currentRate: 18,
        mrp: 20
    },
    {
        src: "/Assets/featured products/chicken-curry-cut-without-skin-antibiotic-residue-free.webp",
        name: "chicken-without-skin 500g",
        catagory: "meat",
        currentRate: 220,
        mrp: 240
    },
    {
        src: "/Assets/featured products/nescafe-classic-100-pure-instant-coffee.webp",
        name: "nescafe Coffee 400g",
        catagory: "tea & coffee",
        currentRate: 300,
        mrp: 355
    },
]

let topSellsProducts = document.querySelector(".topSellsProducts")

topSellsData.forEach((data) => {
    let div = document.createElement("div")
    div.className = "tSProduct mb-4 d-flex gap-3 align-items-center"

    div.innerHTML = `
    <div class="topbg"><img src="${data.src}" alt=""></div>
    <div>
        <h4>${data.name}</h4>
        <img src="/Assets/top sell/rating.png" alt="">
        <div class="d-flex gap-2">
            <h5>₹${data.currentRate} </h5>
            <span>₹${data.mrp}</span>
        </div>
    </div>`
    topSellsProducts.appendChild(div)
})


// 
let topRatedProducts = document.querySelector(".topRatedProducts")

topRatedData.forEach((data) => {
    let div = document.createElement("div")
    div.className = "tSProduct mb-4 d-flex gap-3 align-items-center"

    div.innerHTML = `
    <div class="topbg"><img src="${data.src}" alt=""></div>
    <div>
        <h4>${data.name}</h4>
        <img src="/Assets/top sell/rating.png" alt="">
        <div class="d-flex gap-2">
            <h5>₹${data.currentRate} </h5>
            <span>₹${data.mrp}</span>
        </div>
    </div>`
    topRatedProducts.appendChild(div)
})

// 
let trendingItemsProducts = document.querySelector(".trendingItemsProducts")

trendingItemsData.forEach((data) => {
    let div = document.createElement("div")
    div.className = "tSProduct mb-4 d-flex gap-3 align-items-center"

    div.innerHTML = `
    <div class="topbg"><img src="${data.src}" alt=""></div>
    <div>
        <h4>${data.name}</h4>
        <img src="/Assets/top sell/rating.png" alt="">
        <div class="d-flex gap-2">
            <h5>₹${data.currentRate} </h5>
            <span>₹${data.mrp}</span>
        </div>
    </div>`
    trendingItemsProducts.appendChild(div)
})


// 
let recentlyAddedProducts = document.querySelector(".recentlyAddedProducts")

recentlyAddedData.forEach((data) => {
    let div = document.createElement("div")
    div.className = "tSProduct mb-4 d-flex gap-3 align-items-center"

    div.innerHTML = `
    <div class="topbg"><img src="${data.src}" alt=""></div>
    <div>
        <h4>${data.name}</h4>
        <img src="/Assets/top sell/rating.png" alt="">
        <div class="d-flex gap-2">
            <h5>₹${data.currentRate} </h5>
            <span>₹${data.mrp}</span>
        </div>
    </div>`
    recentlyAddedProducts.appendChild(div)
})

/////////////// slider
let ECleftSlide = document.querySelector("#ECleftSlide")
let ECrightSlide = document.querySelector("#ECrightSlide")
let exploreCategoriesProducteds = document.querySelector(".exploreCategoriesProducteds")

ECleftSlide.addEventListener("click", () => {
    exploreCategoriesProducteds.scrollBy({ left: -350, behavior: "auto" })
})

ECrightSlide.addEventListener("click", () => {
    exploreCategoriesProducteds.scrollBy({ left: 350, behavior: "smooth" })
})

let FPleftSlide = document.querySelector("#FPleftSlide")
let FPrightSlide = document.querySelector("#FPrightSlide")
let allfeaturedProducts = document.querySelector(".allfeaturedProducts")
let featuredProduct = document.querySelector(".featuredProduct")

let featuredProductWidth = featuredProduct.offsetWidth + 15
// let featuredProductWidth = 300 + 14


FPleftSlide.addEventListener("click", () => {
    allfeaturedProducts.scrollBy({ left: -`${featuredProductWidth * 2}`, behavior: "smooth" })
})

FPrightSlide.addEventListener("click", () => {
    allfeaturedProducts.scrollBy({ left: `${featuredProductWidth * 2}`, behavior: "smooth" })
})


let DBSleftSlide = document.querySelector("#DBSleftSlide")
let DBSrightSlide = document.querySelector("#DBSrightSlide")
dailyBestSellsAllProduct = document.querySelector(".dailyBestSellsAllProduct")
let DBSproduct = document.querySelector(".DBSproduct")
let DBSproductWidth = DBSproduct.offsetWidth + 15
// console.log(DBSproductWidth);


DBSleftSlide.addEventListener("click", () => {
    dailyBestSellsAllProduct.scrollBy({ left: `${-DBSproductWidth * 2}`, behavior: "smooth" })
})

DBSrightSlide.addEventListener("click", () => {
    dailyBestSellsAllProduct.scrollBy({ left: `${DBSproductWidth * 2}`, behavior: "smooth" })
})

////////// Expires in
setInterval(() => {

    let currentDate = new Date()
    let day = currentDate.getDate() + 1
    let month = currentDate.getMonth() + 1
    let year = currentDate.getFullYear()

    let expiresDataTime = new Date(`${month} ${day} ${year} 22:00:00`)

    let timeOut = expiresDataTime - currentDate
    //3491081

    // (82115815 / 1000 / 60 / 60) % 24)
    let currentHour = Math.floor((timeOut / 1000 / 60 / 60) % 24)
    let currentMin = Math.floor((timeOut / 1000 / 60) % 60)
    let currentSec = Math.floor((timeOut / 1000) % 60)

    let expHour = currentHour
    let expMin = currentMin
    let expSec = currentSec

    let hour = document.querySelector(".hour")
    let min = document.querySelector(".min")
    let sec = document.querySelector(".sec")

    hour.textContent = String(expHour).padStart(2, "0")
    min.textContent = String(expMin).padStart(2, "0")
    sec.textContent = String(expSec).padStart(2, "0")
}, 1000)

